<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Tinymvc : PHP micro framework with MVC pattern to quickly bootstrap a REST app">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Tinymvc</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/eimg/tinymvc">View on GitHub</a>

          <h1 id="project_title">Tinymvc</h1>
          <h2 id="project_tagline">PHP micro framework with MVC pattern to quickly bootstrap a REST app</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/eimg/tinymvc/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/eimg/tinymvc/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="tinymvc" class="anchor" href="#tinymvc"><span class="octicon octicon-link"></span></a>TinyMVC</h1>

<p>TinyMVC is a PHP micro framework with MVC router and responsive web design boilerplate, especially designed to quickly bootstrap web apps without unnecessary overhead and complexity. The structure and code are construct in simple imperative manner so that developer can get full understanding and control over base framework as well as the app.</p>

<p>Requires Apache mod_rewrite and PHP short open tags.</p>

<h2>
<a name="getting-start" class="anchor" href="#getting-start"><span class="octicon octicon-link"></span></a>Getting Start</h2>

<h3>
<a name="configphp" class="anchor" href="#configphp"><span class="octicon octicon-link"></span></a>config.php</h3>

<p>Set the default controller and database setting in <code>config.php</code>. TinyMVC currently supporting two database driver, MySQL and Sqlite.</p>

<pre><code>
$config = array(
    ## Sqlite
    "dbdriver" =&gt; "sqlite",
    "db" =&gt; "data/db.sqlite",

    ## MySQL
    # "dbdriver" =&gt; "mysql",
    # "dbhost" =&gt; "127.0.0.1",
    # "dbuser" =&gt; "root",
    # "dbpass" =&gt; "",
    # "dbname" =&gt; "tinymvc",

    "default-controller" =&gt; "home"
);
</code></pre>

<h3>
<a name="routerphp" class="anchor" href="#routerphp"><span class="octicon octicon-link"></span></a>router.php</h3>

<p>Set the route pattern in <code>router.php</code></p>

<pre><code>
$route = array("controller", "action", "id");
</code></pre>

<p>The default route map will handle the request in <code>controller/action/id</code> pattern. <code>controller</code> always should be the first value in route map.</p>

<h2>
<a name="model-view-controller" class="anchor" href="#model-view-controller"><span class="octicon octicon-link"></span></a>Model-View-Controller</h2>

<h3>
<a name="controllers" class="anchor" href="#controllers"><span class="octicon octicon-link"></span></a>Controllers</h3>

<p>Controllers are the key and most important components. Each request go to respective controller. For example, if the request is <code><a href="http://example.com/home/add/123">http://example.com/home/add/123</a></code>, that will reach to <code>home</code> controller with the additional parameters, <code>add/123</code>. Since the route map is <code>controller/action/id</code>, "add" would be "action" and "123" would be "id" in this case.</p>

<p>Controllers files should stored in <code>controllers</code> directory. There are two example controllers included (<code>home.php</code> and <code>todo.php</code>). Take a look at home controller for view-template based apps. Take a look at todo controller for API apps.</p>

<p>In default configuration, <code>home</code> has been set as "default-controller". So, if there is no controller pointed in request URL, <code>home</code> will be use as default controller.</p>

<p><code>redirect()</code> function can be use to redirect through router pattern. For example, redirect("home/contact") will immidiately redirect to <code><a href="http://example.com/home/contact/">http://example.com/home/contact/</a></code>.</p>

<h3>
<a name="views" class="anchor" href="#views"><span class="octicon octicon-link"></span></a>Views</h3>

<p>Views are optional and not necessary in API apps. But, it's useful for template based apps. Each template set should be store in <code>views</code> directory by organization with sub-directory that has the same name with controller.</p>

<p>Use <code>render()</code> function to wrap your template with template wrapper. You can pass the values to template through <code>$data</code> array.</p>

<pre><code>
$data['one'] = "value one";
$data['two'] = "value two";

render("home", $data);
</code></pre>

<p>In view, each index become variable and variables <code>$one</code> and <code>$two</code> would be available in this case. For security, you may use <code>f()</code> function for outputs, which filter potential XSS script.</p>

<p>Main wrapper HTML template is stored as <code>template/index.php</code>. Other necessary static resources should also store in respective directories under <code>template</code> directory.</p>

<h3>
<a name="models" class="anchor" href="#models"><span class="octicon octicon-link"></span></a>Models</h3>

<p>Models are also optionals. A model file should have same name with controller and should be store in <code>models</code> directory. TinyMVC will use the models if exists.</p>

<h3>
<a name="controls" class="anchor" href="#controls"><span class="octicon octicon-link"></span></a>Controls</h3>

<p>When you need to add CSS Link, JS Source, Hyperlinks, Images and Forms to your view template, you should use build-in controls instead of raw HTML. Take a look at <code>template/index.php</code> for example. You might also want to check available controls in <code>includes/controls.php</code>. And, you may extend it as you like for more richer control-set.</p>

<h2>
<a name="rest-helper---updated-in-build-20140817" class="anchor" href="#rest-helper---updated-in-build-20140817"><span class="octicon octicon-link"></span></a>REST Helper - Updated in build 20140817</h2>

<p>TinyMVC now has additional REST helper functions <code>respond()</code>, <code>template()</code> and <code>http_auth()</code>. The purpose of <code>respond()</code> is to handle custom response header and content-type.</p>

<pre><code>
respond($data, $status_code, $content_type);
</code></pre>

<p><code>$data</code> should be array. <code>$status_code</code> is optional and the default status code is <code>200 OK</code>. Please see <code>includes/core.php</code> for supported status codes. <code>$content_type</code> is also optional and default content type is <code>JSON</code>. Supported content types are JSON, HTML, Plain Text and JavaScript.</p>

<p>The purpose of <code>template()</code> is to respond pre-defined template (unlike <code>render()</code>, without wrapper) to API requests. Create pre-defined template files in <code>views/templates/</code>.</p>

<p>The purpose of <code>http_auth()</code> is to provide standard HTTP Authentication. Call it on top of API controller to add simple API authorization. Please don't forget to change username/password list. See the <code>http_auth()</code> function at <code>includes/core.php</code>.</p>

<h3>
<a name="action-map" class="anchor" href="#action-map"><span class="octicon octicon-link"></span></a>Action Map</h3>

<p>TinyMVC also has action maping mechanism. To create an action map, create a map file in <code>controllers</code>. For example, if your controller file name is <code>api.php</code>, add <code>api.map.php</code> to define action map. Following is the syntax:</p>

<pre><code>
$GET = array (
    "greet" =&gt; "hello",
    "leave" =&gt; "bye"
);

$POST = array (
    "foo" =&gt; "bar"
);
</code></pre>

<p>For example, by given sample above, TinyMVC will invoke <code>hello()</code> function if the request method is <code>GET</code> and <code>action</code> parameter is <code>greet</code>. Just don't forget to define <code>hello()</code> function in controller.</p>

<p>* Manual action mapping is required due to security reason instead of directly tying request action to function.</p>

<h3>
<a name="more" class="anchor" href="#more"><span class="octicon octicon-link"></span></a>More</h3>

<p>For more information, view the example controllers and other source codes. For example, you can check for available database methods in database wrapper class located in <code>includes/db.php</code>.</p>

<h2>
<a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h2>

<p>Source Code: <a href="https://github.com/eimg/tinymvc/"></a><a href="https://github.com/eimg/tinymvc/">https://github.com/eimg/tinymvc/</a></p>

<h2>
<a name="licenses" class="anchor" href="#licenses"><span class="octicon octicon-link"></span></a>Licenses</h2>

<p>Tinymvc is license under <a href="https://github.com/eimg/tinymvc/blob/master/LICENSE.md">MIT License</a>. Please feel free to use, modify and redistribute as you wish.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Tinymvc maintained by <a href="https://github.com/eimg">eimg</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
